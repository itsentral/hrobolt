!function(h){"use strict";void 0!==h?h.fn.autocompleter=function(d,f){return f=f||{},f=h.extend({maxResults:0,minChars:1,delay:500,ajaxData:function(e){return{value:e}},hiddenDefaultValue:"",value:null,template:function(e,t){return e},row:f.template||function(e,t){return e},filter:function(e,t,n,l){return~l.toLowerCase().indexOf(n.toLowerCase())}},f),this.each(function(){var s=!1,l=!1,o="function"==typeof f.value,r=h(this),n=r.val().trim(),e=f.hiddenDefaultValue,a=h('<input type="hidden" value="'+e+'">'),c=h('<div class="multiselect-dropdownlist">');function t(){var e=r.position();c.css({left:e.left,top:e.top+r.outerHeight(),width:r.outerWidth()})}window.addEventListener("resize",t),document.fonts.ready.then(t),t(),o&&(a.attr("name",r.attr("name")),r.removeAttr("name").after(a)),c.unselect=function(){return c.find(".selected").removeClass("selected"),this},c.show=function(){h.fn.show.apply(this,arguments),l=!0,c.unselect().scrollTop(0).children().first().addClass("selected")},c.hide=function(){h.fn.hide.apply(this,arguments),l=!1},c.mouseout(function(){s||c.unselect()}),c.select=function(e){c.unselect().empty();var t=e.data("template");return n=t,r.selected(e.data("value"),t).val(t),this},c.addItem=function(e,t){var n=f.template(e,t),l=o?f.value(e,t):n,a=h('<div class="autocompleter-item">').attr("data-template",n).attr("data-value",l).html(f.row(e,t)).mousedown(function(e){e.preventDefault(),c.select(a).hide()}).mouseover(function(){s||(s=!1,c.unselect(),a.addClass("selected"))}).mousemove(function(){s&&(s=!1,c.unselect(),a.addClass("selected"))});c.append(a)},r.selected=function(e,t){return o&&a.val(e),r.hasClass("selected")||r.addClass("selected").trigger("autocompleter:select",{value:e,template:t}),this};e=".autocompleter";function i(t,e){(t=t.trim())!==n?(a.val(f.hiddenDefaultValue),r.hasClass("selected")&&r.removeClass("selected").trigger("autocompleter:unselect"),n=t,c.empty(),!t||t.length<f.minChars?c.hide():"String"==d.constructor.name?h.get(d,f.ajaxData(t),function(e){u(t,e)}):u(t,d)):e&&c.children().length&&c.show()}function u(e,t){var n,l=0;for(n in t){var a,s=t[n],i=f.template(s,n);f.filter(s,n,e,i)&&(f.maxResults<=0||l<f.maxResults)&&(a=o?f.value(s,n):i,i===e&&r.selected(a,i),c.addItem(s,n),l++)}c.children().length?c.show():c.hide()}r.after(c).on("click"+e,function(){i(r.val(),1)}).on("blur"+e,function(){c.hide()}).on("paste"+e,function(e){i(e.originalEvent.clipboardData.getData("text"),1)}).on("keyup"+e,function(){var e,t;e=function(){i(r.val())},(t=[]).push(1),setTimeout(function(){t.pop(),t.length||e()},f.delay)}).on("keydown"+e,function(e){switch(e.which){case 38:return void function(e){if(l){e.preventDefault(),s=!0;var t=c.find(".selected").first();if(t.length){c.unselect();e=t.prev();if(e.length){t=e.addClass("selected").position().top,e=c.position().top-e.innerHeight();return t<e&&c.scrollTop(c.scrollTop()+e+t)}}c.scrollTop(c.get(0).scrollHeight).children().last().addClass("selected")}}(e);case 40:return void function(){if(l){s=!0;var e=c.find(".selected").first();if(e.length){c.unselect();var t=e.next();if(t.length){var n=c.outerHeight(),e=t.addClass("selected").innerHeight(),t=t.position().top+e;return n<t&&c.scrollTop(c.scrollTop()+e-c.position().top-n+t)}}c.scrollTop(0).children().first().addClass("selected")}else c.children().length&&c.show()}();case 13:return(t=e).preventDefault(),(t=c.find(".selected").first()).length&&c.select(t),void c.hide();case 27:return void c.hide()}var t})})}:console.warn("Required jQuery.")}(jQuery);